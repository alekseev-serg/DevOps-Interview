# DevOps-Interview Middle level

## Linux

### Вопрос: Опишите архитектуру ядра Linux.  
**Ответ:** 
1) Процессы и планировщик задач
2) Система управления памятью
3) Системные вызовы и управление файловой системой
4) Управление устройствами
5) Сетевая подсистема
6) Модульность и расширяемость

---
### Вопрос: Что такое ядро и каково его предназначение?
**Ответ:**
Ядро Linux - это основная часть операционной системы Linux, которая управляет аппаратными ресурсами компьютера и 
обеспечивает основные функции, такие как управление памятью, процессами, устройствами и файловой системой. 
Основное предназначение ядра Linux - обеспечение интерфейса между программным обеспечением и аппаратным 
обеспечением компьютера для обеспечения стабильной и безопасной работы операционной системы.

---
### Вопрос: Опишите общие части файловой системы Unix/Linux.
**Ответ:** 
Boot Control Block (BCB): Содержит информацию о загрузке операционной системы.  
Super Block: Хранит основную информацию о файловой системе, такую как её размер, свободное пространство и список занятых блоков.  
Inode Table: Содержит записи об инодах, которые хранят метаданные файлов (размер, права доступа, владелец и т. д.).  
Data Blocks: Блоки для хранения данных файлов.  
File Control Block (FCB): Информация о файлах, такая как местоположение элементов данных и права доступа.  

---
### Вопрос: В чем разница между RedHat и Debian?
**Ответ:** 
1) RedHat - коммерческий(RHEL). Debian - бесплатный
2) RedHat - строгие политики безопасности. Debian - более гибкие обновления.
3) RedHat - использует rpm. Debian - использует dpkg и apt

---
### Вопрос: В чем разница между /proc и /sys?
**Ответ:** 
/proc: Эта файловая система предоставляет информацию о работающих процессах в системе. Здесь вы можете найти информацию 
о процессоре, памяти, загруженных модулях ядра и другие данные в виде файлов.  
/sys: В отличие от /proc, /sys предоставляет структурированное представление данных о состоянии ядра. 
Он используется для динамической настройки ядра и устройств. Все данные отображаются как файлы и каталоги для 
обеспечения удобства управления и мониторинга системы.  

---
### Вопрос: указывает, что на диске занято 50% места, а сделать файл даже под root юзером не можем. В чем проблема?
**Ответ:** 
На диске закончились inode, что ограничивает количество файлов, которы можно создать. 
Попробуйте освободить место, удалив ненужные файлы, чтобы предотвратить заполнение inode.
Если проблема сохраниться необходимо увеличить количество inode на диске.

---
### Вопрос: Мы удалили файл, открывший приложение. Как нам его восстановить?
**Ответ:** 
Чтобы восстановить удаленный файл в Linux, вы можете воспользоваться командой cp для копирования файла из 
резервной копии или использовать утилиту extundelete для восстановления удаленного файла непосредственно 
с файловой системы.

---
### Вопрос: Как найти PID процесса, его стартовые параметры?
**Ответ:** 
ps -p <PID>

---
### Вопрос: Как проверить, открыт ли порт на удаленном хосте, локальном хосте?
**Ответ:** 
telnet <адрес_хоста> <номер_порта>
nmap -p <номер_порта> <адрес_хоста>

telnet localhost <номер порта>
netstat -an | find "<номер порта>"
netstat -tunpl | grep "<номер порта>"

---
### Вопрос: Как искать файл по его содержимому?
**Ответ:** 
grep -r "текст_для_поиска" /путь_к_каталогу
grep -r "example" /home/user/docs

---
### Вопрос: Что такое SSH, как организовать доступ на сервер без пароля или с определенных хостов? Как ограничить доступные для выполнения команды?
**Ответ:** 
1) Создать ключи на клиентской машине
2) Передать открытый ключ на сервер 
3) Подключиться без пароля

Для организации доступа по ssh с определённых хостов можно использовать файл ssh_config, для выставления там параметров.

Чтобы ограничить доступные команды для выполнения, можно использовать инструменты типа rssh или создать специально chroot окружение.

---
### Вопрос: Что означает разрешение на файл 755?
**Ответ:** 
В целом права представлены как 4-2-1  
4 - чтение  
2 - запись  
1 - выполнение  
755  
Пользователь - 7 - чтение, запись, выполнение  
Группа - 5 - чтение, выполнение  
Остальные пользователи - 5 - чтение, выполнение  

---
### Вопрос: Что такое SELinux и зачем он нужен?
**Ответ:** 
SELinux - это система обязательного управления доступом в ядре Linux, предоставляющая дополнительный уровень 
безопасности, контролируя доступ процессов к файлам, памяти и другим ресурсам на системе. 
SELinux необходим для обеспечения повышенной защиты от угроз безопасности, предотвращения атак и утечек информации, 
а также обеспечения соблюдения политики безопасности.

---
### Вопрос: Как определить PCI-устройство в системе, например, RAID controller?
**Ответ:** 
lspci | grep RAID

---
### Вопрос: Как переименовать устройство, например, сетевую карту или диск?
**Ответ:** 
Утилами ip link или udev  
sudo ip link set <старое_имя> down - выключаем интерфейс  
sudo ip link set <старое_имя> name <новое_имя> - переименовываем  
sudo ip link set <новое_имя> up - включаем интерфейс  



---
### Вопрос: Что такое LVM? Какие знаете примеры использования?
**Ответ:** 
LVM - программное обеспечение для управления дисками и разделами в Linux
1) Увеличение размера
2) Создание снимков
3) Динамическое управление
4) Шифрование
5) Группирование дисков

---
### Вопрос: Что такое root reserved space?
**Ответ:** 
Root reserved space - это пространство на жестком диске в Linux, которое резервируется для системных процессов и 
предотвращает заполнение диска до полного объема, обеспечивая стабильную работу системы. 
Обычно это 5% от общего объема диска.

---
### Вопрос: Что такое exit code и как его узнать?
**Ответ:** 
Exit code - это число, которое возвращается программой после её завершения. Этот код указывает на успешность выполнения программы.
Чтобы узнать exit code после выполнения программы в командной строке, 
необходимо ввести echo $?

---
### Вопрос: В чем разница между command1 & command2 и command1 && command2, а также command1 && command2 || command3?
**Ответ:**  
1) command1 & command2: Оба command1 и command2 выполняются параллельно.  
2) command1 && command2: Выполняет command1, и если command1 завершился успешно (exit status равен нулю), то запускает command2.
3) command1 && command2 || command3: Выполняется command1. В случае успешного выполнения запускается command2, если command1
выполнился неуспешно, выполняется command3

---
### Вопрос: Как затюнить параметры Linux Kernel?
**Ответ:** 
Чтобы затюнить параметры ядра Linux, вы можете использовать утилиты, такие как sysctl для динамической настройки 
параметров ядра или изменять параметры в файле конфигурации ядра /etc/sysctl.conf для постоянных изменений

---
### Вопрос: Что такое ulimits?
**Ответ:** 
ulimits - это механизм в UNIX-подобных операционных системах, который позволяет ограничивать ресурсы, доступные для процессов. 
Например, ulimits может ограничивать доступное количество памяти, максимальное количество файлов, количество 
открытых файлов и другие ресурсы, что помогает управлять работой системы и предотвращать перегрузку.

---
### Вопрос: В чем разница между символическими и hard links?
**Ответ:** 
Soft symlink (symbolic link) содержит путь к файлу, в то время как hard symlink содержит ссылку на inode файла. 
В случае удаления исходного файла, soft symlink не будет работать, в то время как 
hard symlink сохранит доступ к данным.

---
### Вопрос: Что такое фрагментация ext3 и ext4?
**Ответ:** 
Фрагментация в файловых системах ext3 и ext4 относится к процессу, при котором файлы разбиваются на фрагменты или блоки 
данных при сохранении на диске. Это может привести к увеличению времени доступа к файлам из-за необходимости обращаться 
к нескольким фрагментам данных для чтения и записи. Файловая система ext4 была разработана для уменьшения фрагментации 
и повышения производительности по сравнению с ext3.

---
### Вопрос: Зачем файловые системы ext* резервируют 5% места?
**Ответ:** 
Файловые системы ext* резервируют 5% места для системных процессов, чтобы предотвратить фрагментацию диска и 
обеспечить нормальное функционирование системы при заполненном диске. Это помогает избежать проблем с фрагментацией 
и обеспечивает необходимое пространство для важных системных операций.

---
### Вопрос: Как увеличить размер файловой системы?
**Ответ:** 
Для увеличения размера файловой системы можно воспользоваться утилитами, такими как resize2fs для ext2, ext3 и 
ext4 файловых систем или xfs_growfs для файловых систем XFS. 
В обоих случаях необходимо сначала увеличить размер раздела с помощью утилиты для изменения размера разделов диска 
(например, fdisk или parted), а затем выполнить соответствующую команду для увеличения размера файловой системы.

---
### Вопрос: Можем ли мы уменьшить размер файловой системы?
**Ответ:** 
sudo resize2fs /dev/sdXY размер_файловой_системы
Где /dev/sdXY - путь к разделу с файловой системой, а размер_файловой_системы - желаемый размер файловой системы. 

---
### Вопрос: Что такое chroot и для чего он нужен?
**Ответ:** 
Chroot - это утилита ядра Linux, которая позволяет создавать изолированную среду для выполнения программ. 
Он используется для ограничения доступа процессов к файловой системе и ресурсам, повышения безопасности и т
естирования программ в изолированной среде.

---
### Вопрос: У нас есть Linux box с 2 Гб оперативной памяти и Java-приложение, которое пытается выделить 4 Гб во время запуска. Удастся ли это?
**Ответ:** 
Приложение Java не сможет выделить 4 Гб памяти на Linux box с 2 Гб оперативной памяти.

---
### Вопрос: Есть приложение, которое читает файл, который пользователь пытается удалить. Что случится? Можно ли удалить этот файл? Можно ли восстановить этот файл?
**Ответ:** 
Chroot - это утилита ядра Linux, которая позволяет создавать изолированную среду для выполнения программ. 
Он используется для ограничения доступа процессов к файловой системе и ресурсам, повышения безопасности и 
тестирования программ в изолированной среде.

---
### Вопрос: Какие механизмы создания процессов в Linux вы знаете?
**Ответ:** 
1) Системные вызовы, такие как fork() и exec().
2) Использование командной оболочки для запуска программ.
3) Использование утилиты systemd для управления процессами и службами.

---
### Вопрос: Сравните systemd и init system.
**Ответ:** 
1) Инициализация  
Systemd - Процесс инициализируется в несколько потоков  
Init - Последовательная инициализация процессов  
2) Управление сервисами  
Systemd - Параллельный запуск процессов  
Init - Ограниченный контроль и управление сервисами  
3) Логирование  
Systemd - Имеет собственную систему логирования  
Init - зависит от сторонних утил логирования  
4) Расширяемость  
Systemd - богатый функционал и возможности для расширения  
Init - ограниченные настройки  
5) Зависимости  
Systemd - автоматическое управление зависимостями  
Init - ручные настройки зависимости  

---
### Вопрос: У вас есть папка с большим количеством файлов, и вы хотите удалить все файлы с именами, начинающимися на A (прописная буква). Но команда rm –f A* выдает Argument list too long. Как удалить 
**Ответ:** 
ls A*

---
### Вопрос: Вы начинаете удалять файлы первым методом из предыдущего вопроса, но каждый rm запрашивает подтверждение. Это очень долго. Как можно ускорить эту операцию?
**Ответ:** 
rm -f A*

---
## Networks

### Вопрос: Расскажите о модели OSI. Опишите функции и назначение каждого уровня.
**Ответ:** 
1) Физический уровень (Physical Layer):  
Занимается передачей битов через различные физические среды.  
2) Канальный уровень (Data Link Layer):  
Обеспечивает безошибочную передачу данных между смежными узлами сети.  
3) Сетевой уровень (Network Layer):  
Осуществляет маршрутизацию пакетов данных между различными узлами сети.  
4) Транспортный уровень (Transport Layer):  
Обеспечивает надежную передачу данных с точки на точку и контролирует поток данных.  
5) Сеансовый уровень (Session Layer):  
Отвечает за установку, управление и завершение сеанса между узлами.  
6) Представительский уровень (Presentation Layer):  
Отвечает за преобразование данных в формат принятый устройствами.  
7) Прикладной уровень (Application Layer):  
Предоставляет интерфейс для взаимодействия между приложениями и сетью.  

---
### Вопрос: Какие сетевые топологии вы знаете? Опишите разницу между ними.
**Ответ:**  
1) Звезда: В этой топологии все устройства подключены к одному центральному устройству (обычно коммутатору или маршрутизатору).  
2) Кольцо: Устройства подключены в форме кольца, где каждое устройство соединено с двумя соседними устройствами.  
3) Шина: Устройства подключены к одной центральной шине, по которой передаются данные.  
4) Сеть с полной связностью: Каждое устройство подключено ко всем остальным устройствам в сети.  
5) Дерево: Устройства связаны в виде иерархической структуры с корневым устройством.  

Разница  
1) Звезда: Простая в управлении, но отказ центрального устройства приводит к отключению всей сети.
2) Кольцо: Эффективен в передаче данных, но отказ одного узла может нарушить работу всей сети.
3) Шина: Прост в установке, но проблемы с центральной шиной могут привести к отказу всей сети.
4) Сеть с полной связностью: Обеспечивает высокую надежность и скорость, но требует больше ресурсов.
5) Дерево: Эффективен для масштабирования сети, но отказ корневого устройства приведет к отключению подсетей.

---
### Вопрос: Зачем нужен IP-адрес, если MAC-адрес уникален? Разве мы не можем общаться только по MAC-адресу?
**Ответ:** 
Работают на разных уровнях сети. IP-адрес используется для маршрутизации данных в сети интернет, в то время как 
MAC-адрес уникален на уровне устройства в локальной сети. IP-адресы позволяют идентифицировать устройства в 
глобальной сети, а MAC-адреса применяются на более локальном уровне для обмена данными в пределах сети. 
Использование обоих адресов обеспечивает эффективную коммуникацию на разных уровнях сети.

---
### Вопрос: Что такое VLAN и для чего существует разделение на виртуальные локальные сети?
**Ответ:** 
VLAN (Virtual LAN) позволяет создавать логические сегменты внутри физической сети для повышения безопасности, 
управления трафиком и оптимизации работы сети. Разделение на виртуальные локальные сети помогает организовать 
сеть на уровне коммутаторов, позволяя группировать устройства в отдельные сети без необходимости физического 
разделения.

---
### Вопрос: Какой номер порта используется для PING-коммуникации?
**Ответ:** 
Для PING-коммуникации используется ICMP (Internet Control Message Protocol), который не использует 
портов в TCP или UDP. Но в целом  
0 - Echo Reply (ответ на запрос)  
3 - Destination Unreachable (адрес недоступен)  
5 - Redirect (перенаправление)  
8 - Echo Request (запрос)  
11 - Time Exceeded (время истекло)  

---
### Вопрос: Что такое сеанс связи? Какой алгоритм использует TCP для доставки?
**Ответ:**  
Сеанс связи – это временное соединение между двумя устройствами для обмена данными.  
TCP использует алгоритм нумерации последовательности пакетов, контрольные суммы и подтверждение получения для 
обеспечения доставки данных без ошибок и в правильной последовательности.

---
### Вопрос: В чем основное отличие между TCP и UDP?
**Ответ:** 
Гарантирует надёжную доставку данных, в то время как UDP нет

---
### Вопрос: Зачем нам маршрутизатор по умолчанию?
**Ответ:** 
Маршрутизатор по умолчанию используется для отправки сетевого трафика к назначению, если нет специальных 
правил маршрутизации для этого адреса.

---
### Вопрос: Как хост решает DNS по умолчанию?
**Ответ:** 
По умолчанию обращает к тому, что указан в настройках сети.

---
### Вопрос: Компьютер начал получать IP-адрес из другой сети (есть подозрение, что в сети работает другой DHCP-сервер): как его найти и отключить? Какие методы защиты от такой проблемы?
**Ответ:**  
ifconfig - смотрим конфигурацию адаптера
nmap для обнаружения устройств и DHCP-серверов в сети.
Для защиты от таких проблем рекомендуется:  
Настроить фильтрацию DHCP-запросов, разрешая исключительно доверенным DHCP-серверам.  
Назначение статичиских IP-адресов.  
Регулярно отслеживать сетевую активность.

---
### Вопрос: Мы будем мигрировать сайт на новый IP-адрес. Как сделать, чтобы пользователи этого практически не заметили?
**Ответ:**  
Через балансировку трафика. Настроить правила например в nginx. Далее добавить необходимые DNS записи.

---
### Вопрос: Что такое socket?
**Ответ:** 
Это интерфейс, который позволяет программам обмениваться данными в компьютерной сети. Он устанавливает соединение 
между клиентом и сервером для передачи информации.  
Web-socket позволяет передавать данные в реальном времени без необходимости постоянного обновления страницы.

---
### Вопрос: Как узнать, какие удаленные хосты подключаются к хосту через порт 8888? (с помощью команд и не используя /proc или /sys).
**Ответ:** netstat -an | grep 8888

---
### Вопрос: У нас есть несколько сетевых карт. Как увеличить пропускную способность сервера?
**Ответ:** Для увеличения пропускной способности сервера при наличии нескольких сетевых карт, можно воспользоваться 
техникой "связывания каналов" (link aggregation). При этом несколько сетевых интерфейсов объединяются в один 
логический интерфейс, увеличивая тем самым пропускную способность. 

---
### Вопрос: Как проверить открытые порты на удаленном сервере без команд Netcat или Nmap Linux?
**Ответ:** 
Через telnet соединение. 
Например сделать curl запрос curl -v telnet://remote-host

---
## Container orchestration

### Вопрос: В чем преимущества Kubernetes как платформы?
**Ответ:**   
1) Автоматизация развертывания и масштабирования приложений
2) Управление контейнеризированными приложениями и ресурсами
3) Высокая отказоустойчивость и возможность резервного копирования
4) Гибкая конфигурация и настраиваемость
5) Легкость миграции приложений между различными облаками и серверами

---
### Вопрос: Что такое control plane и из каких компонентов состоит?
**Ответ:**  
Control Plane в Kubernetes отвечает за управление кластером и принятие решений об ожидаемом состоянии. 
Он состоит из следующих компонентов:  
1) apiserver: Предоставляет API и является точкой входа для управления кластером.
2) etcd: Хранит конфигурацию кластера и состояние.
3) scheduler: Распределяет поды по рабочим узлам.
4) controller-manager: Запускает контроллеры, следящие за состоянием кластера.
5) cloud-controller-manager: Интегрирует с облачными провайдерами.
6) kubelet: Управляет контейнерами на рабочих узлах.
7) proxy: Обеспечивает сетевую связность в кластере.

---
### Вопрос: Какие CNI вы использовали и чем они отличаются?
**Ответ:**   
CNI (Container Network Interface) - это спецификация, определяющая, как контейнер взаимодействует с внешней сетью. 

Отличия между CNI плагинами:

Flannel - создает виртуальную сеть для контейнеров с использованием уникальных IP-адресов.
Calico - обеспечивает сетевую политику и безопасность с использованием BGP (Border Gateway Protocol).
Weave - создает виртуальную сеть на основе шифрования и адресов MAC.

---
### Вопрос: Чем отличается managed Kubernetes от self-deployed?
**Ответ:**   
Управляемый Kubernetes:
1) Предоставляется и поддерживается провайдером облачных услуг.
2) Обеспечивает автоматическое масштабирование, обновления и управление кластером.
3) Пользователю не требуется заботиться о настройке и обслуживании инфраструктуры.

Самостоятельная установка Kubernetes:
1) Требует от пользователя установку, настройку и обслуживание кластера.
2) Предоставляет большую гибкость и контроль над кластером.
3) Пользователю придется самостоятельно следить за обновлениями и масштабированием.

---
### Вопрос: Как можно контролировать размещение подов в кластере? (taints/tolerations, affinities, topologies etc.)
**Ответ:** 
1) Taints и Tolerations - Taints позволяют установить "запахи" на узлах, чтобы ограничить размещение подов, а 
Tolerations позволяют подам быть размещенными на узлах с соответствующими "запахами".
2) Affinities и Anti-Affinities - Affinity позволяет указать предпочтения по размещению подов (например, на узле 
с определенным label), а Anti-Affinity - наоборот, указывает на избегание размещения на узлах с 
определенными характеристиками.
3) Topology Spread Constraints: Позволяют распределить поды по разным узлам в зависимости от их метрик 
(например, зоны доступности, хосты и т. д.).

---
### Вопрос: Скейлинг кластера. Cluster autoscaler vs HPA vs VPA? Как сделать zero-downtime node decommission/cluster upgrade? PDB? Lifecycle hooks?
**Ответ:** 
1) Cluster Autoscaler: Масштабирует количество узлов в кластере Kubernetes в зависимости от текущей загрузки. 
Работает на уровне узлов.
2) Horizontal Pod Autoscaler (HPA): Масштабирует количество реплик поды в зависимости от метрик загрузки CPU или 
памяти внутри кластера. Работает на уровне подов.
3) Vertical Pod Autoscaler (VPA): Масштабирует ресурсы (CPU, память) подов в зависимости от их загрузки. 
Позволяет оптимизировать использование ресурсов в кластере, изменяя размеры подов в соответствии с загрузкой.

Для обеспечения нулевого времени простоя при выведении узлов из эксплуатации или обновлении кластера можно использовать 
Kubernetes Pod Disruption Budgets (PDB), а также Lifecycle hooks. PDB помогает управлять тем, как контроллеры 
Kubernetes удаляют поды, а Lifecycle hooks позволяют выполнить действия до или после изменения состояния пода. 
Вместе они обеспечивают плавное обновление кластера без простоев.

---
### Вопрос: Какие способы для внешнего доступа к кластеру? ingress, node port, port-forward и т. д.
**Ответ:** 
1) NodePort: Открывает порт на каждом узле кластера, чтобы обеспечить доступ к сервису.
2) LoadBalancer: Использует облачные провайдеры для создания балансировщика нагрузки, который маршрутизирует трафик к сервисам.
3) Ingress: Предоставляет внешний доступ к службам внутри кластера и позволяет управлять потоком трафика.
4) ExternalDNS: Автоматизирует процесс настройки DNS-записей для ресурсов Kubernetes, чтобы обеспечить внешний доступ по доменным именам.
5) Service Mesh: Обеспечивает слой абстракции для микросервисов в кластере и управляет сетевым трафиком.
6) Pod Port Forwarding: Позволяет прямой доступ к портам контейнеров в Pod.

---
### Вопрос: С каким PID запускается процесс в контейнере?
**Ответ:**  
docker top [container_id] 

---
### Вопрос: Что лучше использовать для изоляции окружения – Vagrant или Docker?
**Ответ:** 
Для изоляции окружения рекомендуется использовать Docker. Docker обеспечивает более легкий и быстрый запуск 
контейнеров, что делает его более эффективным в сравнении с Vagrant. Кроме того, Docker имеет более широкое применение 
в современной разработке программного обеспечения и облегчает управление зависимостями и конфигурациями.

---
### Вопрос: Что происходит в Kubernetes после запуска kubectl (API, ReplicaSet Controller, storage back-end, scheduler, kubelet, worker node, pod)?
**Ответ:** 
1) API Server: Принимает запросы и управляет коммуникацией с кластером Kubernetes.
2) ReplicaSet Controller: Обеспечивает желаемое количество запущенных реплик подов в кластере.
3) Хранилище (storage back-end): Хранит состояние кластера, включая состояние подов и других ресурсов.
4) Планировщик (scheduler): Выбирает подходящие worker node для запуска пода.
5) Kubelet: Управляет жизненным циклом пода на узле worker node.
6) Worker Node: Физический или виртуальный сервер, на котором запускаются поды.
7) Pod: Минимальная единица развёртывания в Kubernetes, включающая один или несколько контейнеров.

---
### Вопрос: Какая разница между pod и контейнером в K8s?
**Ответ:**   
Pod в Kubernetes (K8s):
Под (Pod) - это минимальная управляемая единица в Kubernetes. Он может содержать один или несколько контейнеров.
Все контейнеры внутри одного пода разделяют с ним ресурсы, такие как IP-адрес и тома данных.
Под обеспечивает среду выполнения для контейнеров и позволяет им взаимодействовать между собой.

Контейнер в Kubernetes (K8s):
Контейнер - это стандартизированная единица программного обеспечения, которая включает в себя приложение и 
все его зависимости. В Kubernetes контейнеры используются для запуска приложений и сервисов в рамках подов.
Они изолированы друг от друга и могут быть легко масштабированы и управляемы Kubernetes.

---
### Вопрос: Как мы можем сделать любой микросервис, работающий на K8s, доступным из внешней среды?
**Ответ:**  
Для доступа к микросервису, работающему на Kubernetes, из внешней среды, вы можете использовать Kubernetes Service 
с типом LoadBalancer. Это позволит назначить внешний IP-адрес и открыть порт для доступа к сервису.

---
## Виртуализация и контейнеризация

### Вопрос: Какие типы виртуализации вы знаете?
**Ответ:**  
1) Полная виртуализация: Эмулирует полный набор аппаратных устройств, позволяя запускать несколько операционных систем на одном хосте.
2) Пара-виртуализация: Оптимизирует производительность, предоставляя гостевым ОС специальный API для работы с аппаратным обеспечением.
3) Виртуализация контейнеров: Обеспечивает запуск изолированных экземпляров приложений в контейнерах, которые используют общее ядро операционной системы.
4) Хост-виртуализация: Виртуализация, где гипервизор устанавливается на физическом сервере и управляет виртуальными машинами.
5) Поставка приложений в виртуализированной среде: Предоставляет приложения через виртуализированную среду, что облегчает их управление и улучшает безопасность.

---
### Вопрос: Что такое Docker-image и Docker-контейнер? Как они между собой связаны?
**Ответ:**  
1) Docker-image - это шаблон для создания контейнера. Он содержит все необходимые инструкции для запуска приложения в изолированной среде.
2) Docker-контейнер - это экземпляр Docker-image, который запущен в изолированной среде. Контейнеры используют ядро операционной системы хоста, но имеют свою собственную файловую систему.

Связь между ними заключается в том, что Docker-контейнер создается на основе Docker-image. Image содержит все необходимые инструкции и зависимости для работы приложения в контейнере.

---
### Вопрос: Каковы основные отличия между контейнерами докеров и виртуальными машинами?
**Ответ:** 
1) Контейнеры Docker:  
Используют одно ядро операционной системы хоста.  
Более легковесны и быстры в запуске.  
Делят общий операционный системный ядро.  
Изолируют приложения и их зависимости в отдельные контейнеры.  
2) Виртуальные машины:  
Включают собственные операционные системы.  
Требуют больше ресурсов для запуска.  
Изолируют все компоненты виртуальной машины.  
Могут быть запущены на различных хост-система

---
### Вопрос: Что такое image layer? Какое максимальное количество layers возможно? Почему нужно пытаться иметь малое количество layers? Какое оптимальное количество?
**Ответ:** 
1) Image layer в Docker представляет собой изменения, внесенные в контейнер при создании образа. Каждая инструкция в Dockerfile создает новый layer в образе.
2) В Docker существует ограничение на количество layers — 127.
3) Меньшее количество layers в образе может повысить производительность и упростить управление образами. Большое количество layers может привести к увеличению размера образа и замедлению операций с ним.
4) Оптимальное количество layers зависит от конкретного проекта, однако, общепринятое рекомендуемое количество - от 2 до 3 layers для облегчения обслуживания и доступности кэширования.

---
### Вопрос: Как в Docker реализовано ограничение ресурсов?
**Ответ:** 
1) CGroups (Control Groups): Docker использует механизм контроля ресурсов Linux под названием Control Groups (CGroups). CGroups позволяют ограничивать и изолировать ресурсы, такие как CPU, память, сеть и другие, для контейнеров.
2) Namespace Isolation: Docker использует пространства имен (Namespaces) для изоляции процессов в контейнерах. Это помогает контролировать и предотвращать конфликты между контейнерами.
3) Docker Resource Constraints: Docker позволяет устанавливать лимиты на ресурсы, такие как CPU и память, непосредственно при запуске контейнера с помощью флагов командной строки, а также с использованием Docker Compose или Docker Swarm для управления контейнерами в кластере.

---
### Вопрос: Какова структура API в Kubernetes?
**Ответ:**  
1) Core (v1): Основные объекты и типы в Kubernetes, такие как Pod, Service, Namespace и другие.
2) API-группы (API Groups): Расширенные API поддерживаются через группы, такие как apps, batch, networking и др.
3) Расширения (Extensions): Дополнительные API для плагинов и расширений, такие как DaemonSets, ReplicaSets и др

---
### Вопрос: Что такое operators и зачем они нужны?
**Ответ:**  
Операторы (operators) в Kubernetes - это контроллеры, которые управляют жизненным циклом и конфигурацией сложных приложений в Kubernetes. 
Они используются для автоматизации операций, таких как развертывание, масштабирование и обновление приложений. 

---
## CI/CD   

### Вопрос: Какие стадии должны быть в любом пайплайне (lint, test, build, deploy etc.)?
**Ответ:** 
lint > tests > build > SAST > QG > deliver > deploy

---
### Вопрос: Как и где хранить build artifacts?
**Ответ:** 
После сборки артефакты должны хранится в хранилище артефактов. Например Nexus, Artifactory или Amazon S3.

---
### Вопрос: Что такое артефакт?
**Ответ:** 
Артефакт это результат работы job, которые создаются в процессе работы пайплайна. Разнообразные логи, отчеты, либо готовые билды. 

---
### Вопрос: Есть два бренча: dev и stage. Мы забросили Dockerfile в dev, а затем сбилдили в dev и stage. Это будет одним артефактом или разными?
**Ответ:** 


---
### Вопрос: Что вы использовали для автоматизации настройки Jenkins и GitLab CI?
**Ответ:** 

---
### Вопрос: Сравните CI инструментов: Jenkins, GitLab CI, AWS Code Pipeline, GCP cloudbuild, GitHub actions, Circle CI.
**Ответ:** 

---
### Вопрос: Deployment strategies. Какие существуют и чем отличаются (recreate, blue-green, canary etc.)?
**Ответ:** 

---
### Вопрос: Как реализовать СI/CD для программы, которая зависит от нескольких других программ?
**Ответ:** 

---
### Вопрос: GitOps. В чем его преимущества и недостатки?
**Ответ:** 

---
## Clouds and Automation   

### Вопрос: Какова роль и преимущества облачных сервисов для DevOps?
**Ответ:** 

---
### Вопрос: Что такое immutable infrastructure? Как достичь? В чем преимущества и недостатки? Packer, AMI и т. д.
**Ответ:** 

---
### Вопрос: Структура Terraform. Как организовать multi-environment project? Terraform workspaces?
**Ответ:** 

---
### Вопрос: Лучшие практики по использованию многих Terraform states.
**Ответ:** 

---
### Вопрос: Как организовать доступ команде разработчиков к AWS/GCP/Azure? Role-based access, assume role, SSO.
**Ответ:** 

---
### Вопрос: Что такое Terraform provider, module?
**Ответ:** 

---
### Вопрос: Как версионировать Terraform modules?
**Ответ:** 

---
### Вопрос: Когда нужно использовать local-exec и remote-exec?
**Ответ:** 

---
### Вопрос: Что такое golden image и как его создать?
**Ответ:** 

---
## Monitoring/Logging

### Вопрос: Как мониторинг помогает поддерживать всю архитектуру системы?
**Ответ:** 

---
### Вопрос: Какие инструменты мониторинга вы использовали?
**Ответ:** 

---
### Вопрос: Что такое медиана и процентиль?
**Ответ:** 

---
### Вопрос: Что такое SLI, SLO, SLA? Зачем это нужно?
**Ответ:** 

---
### Вопрос: Архитектура системы для сбора логов, ELK, EFK etc. Как сохранить логи при отказе хранилища? Нужно ли использовать для этого брокер сообщений? Нужно ли делать throttling/rate limits?
**Ответ:** 

---
### Вопрос: Prometheus long-term storage. Какие варианты?
**Ответ:** 

---
### Вопрос: Как работает Prometheus?
**Ответ:** 

---
### Вопрос: В чем принципиальное отличие между Grafana и Kibana?
**Ответ:** 

---
### Вопрос: Что такое SAAS monitoring и какие виды знаете?
**Ответ:** 

---
### Вопрос: Если вы используете Datadog/NewRelic, то как нам отслеживать падение инструментов мониторинга?
**Ответ:** 

---
### Вопрос: Что такое distributed tracing и error tracking systems? Как вы думаете, когда следует их использовать?
**Ответ:** 

---
## Information Security

### Вопрос: В чем разница между RBAC и ABAC?
**Ответ:** 

---
### Вопрос: В чем заключается XSS атака? SQL injection? Что такое CSP?
**Ответ:** 

---
### Вопрос: Какие базовые меры можно предпринять для защиты SSH-соединения?
**Ответ:** 

---
### Вопрос: Root-пароль неизвестен или потерян. Какова процедура восстановления?
**Ответ:** 

---
### Вопрос: Как управлять правами на файловой системе в Linux?
**Ответ:** 

---
### Вопрос: Что такое Firewall?
**Ответ:** 

---
### Вопрос: Чем отличается stateless от stateful фаерволов?
**Ответ:** 

---
### Вопрос: Сколько таблиц в iptables?
**Ответ:** 

---
### Вопрос: Можно ли настроить трансляцию NAT с помощью iptables? Какую таблицу следует использовать?
**Ответ:** 

---
### Вопрос: Какую таблицу используют для смены заголовков пакетов?
**Ответ:** 

---
### Вопрос: Если вам ломают Linux-сервер, то как более эффективно блокировать трафик с IP-адресов?
**Ответ:** 

---
### Вопрос: Принцип работы GCP Firewall: можем ли мы профильтровать трафик на Load Balancer?
**Ответ:** 

---
### Вопрос: Что такое SELinux?
**Ответ:** 

---
### Вопрос: Можно ли полностью отключить SELinux на лету?
**Ответ:** 

---
### Вопрос: С какими secrets management systems вы работали?
**Ответ:** 

---
### Вопрос:  нас есть сервер NAT, и мы хотим обеспечить доступ по IP к серверу снаружи. Как нам это реализовать?
**Ответ:** 

---
### Вопрос: Чтобы попасть на сервер клиента, нужно залогиниться на 4+ jump хоста. Как автоматизировать? Где мы будем хранить наш SSH-ключ?
**Ответ:** 

---
## Development

### Вопрос: Что такое cookies? Зачем нужны? JWT?
**Ответ:** 

---
### Вопрос: Что такое feature toggles и зачем они?
**Ответ:** 

---
### Вопрос: Что такое TDD (Test Driven Development) и BDD (Behaviour Driven Development)?
**Ответ:** 

---
## Databases

### Вопрос: Что такое индекс и что такое ключ?
**Ответ:** 

---
### Вопрос: Каковы преимущества и недостатки индексов?
**Ответ:** 

---
### Вопрос: Представьте, что вы разрабатываете систему биллинга, которая должна обрабатывать тысячи счетов. Какую стратегию обновления данных вы бы выбрали?
**Ответ:** 

---
### Вопрос: Какие методы чаще всего используют для масштабирования реляционных баз данных?
**Ответ:** 

---
### Вопрос: Опишите механизм транзакций БД.
**Ответ:** 

---
### Вопрос: Как мы можем удалить таблицу или базу данных?
**Ответ:** 

---
### Вопрос: Как найти медленные запросы в MySQL/PostgreSQL?
**Ответ:** 

---
### Вопрос: Какие SQL-операторы манипулирования данными вы знаете?
**Ответ:** 

---
### Вопрос: Можно ли вывести список баз данных/таблиц через CLI? Как мы можем переключаться между базами данных MySQL/PostgreSQL?
**Ответ:** 

---
### Вопрос: Какие storage engines в MySQL вы знаете? Какие отличия?
**Ответ:** 

---
### Вопрос: Как реализована репликация MySQL master-master? Сколько серверов MySQL может быть задействовано в таком взаимодействии?
**Ответ:** 

---
### Вопрос: Как работает репликация MySQL/PostgreSQL? Какие параметры должны быть настроены для репликации?
**Ответ:** 

---
### Вопрос: Сравните SQL и NoSQL.
**Ответ:** 

---
### Вопрос: Sharding vs replication?
**Ответ:** 

---
### Вопрос: Какие есть виды индексов? Когда и зачем использовать?
**Ответ:** 

---
### Вопрос: Требования к схеме БД. Character sets, collations, default, not null и т. д.
**Ответ:** 

---
### Вопрос: Мы мигрируем MySQL/PostgreSQL из on-prem в облако. Как нам это сделать с минимальным даунтаймом?
**Ответ:** 

---
### Вопрос: Зачем и как тестировать перформанс баз данных?
**Ответ:**
